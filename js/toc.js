const tocEl=document.querySelector("#toc"),contentEl=document.querySelector("#postBody");window.addEventListener("scroll",adjustToc),window.addEventListener("resize",adjustToc),window.addEventListener("resize",updateData),window.addEventListener("load",updateData);let tocOffsetTop=getOffsetTop(tocEl),articleHeight=contentEl.offsetHeight,tocHeight=tocEl.offsetHeight,breakPoint1=tocOffsetTop,breakPoint2=articleHeight+tocOffsetTop-tocHeight;function updateData(){tocOffsetTop=getOffsetTop(tocEl),articleHeight=contentEl.offsetHeight,tocHeight=tocEl.offsetHeight,breakPoint1=tocOffsetTop,breakPoint2=articleHeight+tocOffsetTop-tocHeight}function getOffsetTop(t){let e=0;for(;null!=t;)e+=t.offsetTop,t=t.offsetParent;return e}function adjustToc(){window.scrollY<breakPoint1?(tocEl.className="post-toc",tocEl.style.top="0"):window.scrollY<breakPoint2?(tocEl.className="post-toc--attached",tocEl.style.top="0"):(tocEl.className="post-toc--bottom",tocEl.style.top=articleHeight-tocHeight+"px")}